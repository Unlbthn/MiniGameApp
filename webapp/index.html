<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
  <title>TapToEarn TON</title>

  <link rel="stylesheet" href="/static/styles.css?v=2_2_2" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <script src="https://unpkg.com/@tonconnect/ui@2.0.0/dist/tonconnect-ui.min.js"></script>
  <script src="https://sad.adsgram.ai/js/sad.min.js"></script>
</head>
<body>
  <div class="app-root">
    <div class="topbar">
      <button id="btnLeaderboard" class="icon-btn" title="Leaderboard">üèÜ</button>

      <div class="topbar-center">
        <div class="pill" title="Coins">ü™ô <span id="coins">0</span></div>
        <div class="pill" title="TON Credits">üíé <span id="tonCredits">0.0000</span></div>
      </div>

      <button id="btnSettings" class="icon-btn" title="Settings">‚öôÔ∏è</button>
    </div>

    <div class="game-card">
      <div class="title" id="title">TapToEarn</div>
      <div class="subtitle" id="subtitle">Tap, level up, earn TON Credits.</div>

      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-label" id="levelLabel">Level</div>
          <div class="stat-value"><span id="level">1</span></div>
        </div>
        <div class="stat-card">
          <div class="stat-label" id="tapPowerLabel">Tap Power</div>
          <div class="stat-value"><span id="tapPower">1</span></div>
        </div>
        <div class="stat-card">
          <div class="stat-label" id="weeklyScoreLabel">Weekly Score</div>
          <div class="stat-value"><span id="weeklyScore">0</span></div>
        </div>
        <div class="stat-card">
          <div class="stat-label" id="totalTapsLabel">Total Taps</div>
          <div class="stat-value"><span id="totalTaps">0</span></div>
        </div>
      </div>

      <div class="xp-wrap">
        <div class="xp-bar"><div id="xpFill" class="xp-fill"></div></div>
        <div class="xp-text" id="xpText">0 / 1000 XP</div>
      </div>

      <button id="tapBtn" class="tap-btn">TAP</button>

      <div class="actions-row">
        <button id="upgradeBtn" class="btn btn-primary">
          ‚¨ÜÔ∏è <span id="upgradeText">Tap Power</span> ¬∑ <span id="upgradeCost">500</span> ü™ô
        </button>
        <button id="tasksBtn" class="btn">üéØ <span id="dailyText">Daily</span></button>
      </div>
    </div>
  </div>

  <!-- Daily / Tasks Modal -->
  <div id="tasksModal" class="modal hidden">
    <div class="modal-inner">
      <div class="modal-header">
        <div class="modal-title" id="tasksTitle">Daily</div>
        <button class="close-btn" id="closeTasks">√ó</button>
      </div>

      <div class="section">
        <div class="section-title" id="adWatchTitle">Ad Watch</div>
        <div class="task-row">
          <div>
            <div id="adWatchDesc">Watch an ad to earn TON Credits</div>
            <div class="xp-text"><span id="adWatchStatus">0</span>/10 ¬∑ +0.1 TON</div>
          </div>
          <div class="task-actions">
            <button id="watchAdBtn" class="btn-mini primary">Watch</button>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title" id="dailyTasksTitle">Daily Tasks</div>
        <div id="taskList"></div>
      </div>
    </div>
  </div>

  <!-- Leaderboard Modal -->
  <div id="leaderModal" class="modal hidden">
    <div class="modal-inner">
      <div class="modal-header">
        <div class="modal-title" id="leaderTitle">Leaderboard</div>
        <button class="close-btn" id="closeLeader">√ó</button>
      </div>

      <div class="section">
        <div class="task-row">
          <div class="toggle">
            <input type="radio" name="lbScope" id="lbWeekly" value="weekly" checked>
            <label for="lbWeekly" id="lbWeeklyLabel">Weekly</label>
          </div>
          <div class="toggle">
            <input type="radio" name="lbScope" id="lbAllTime" value="all_time">
            <label for="lbAllTime" id="lbAllTimeLabel">All-time</label>
          </div>
        </div>
      </div>

      <div class="section">
        <div id="leaderList"></div>
        <div class="xp-text" id="yourRank"></div>
      </div>
    </div>
  </div>

  <!-- Settings Modal -->
  <div id="settingsModal" class="modal hidden">
    <div class="modal-inner">
      <div class="modal-header">
        <div class="modal-title" id="settingsTitle">Settings</div>
        <button class="close-btn" id="closeSettings">√ó</button>
      </div>

      <div class="section">
        <div class="section-title" id="walletTitle">Wallet</div>
        <div class="task-row">
          <div style="flex:1;">
            <div id="walletDesc">Connect TON wallet (TonConnect)</div>
            <div class="xp-text" id="walletStatus">Not connected</div>
          </div>
          <div id="tonConnectButton"></div>
        </div>

        <div class="setting-row">
          <div style="flex:1;">
            <div id="walletAddrLabel">Wallet Address</div>
            <input id="walletInput" class="input" placeholder="EQ...." />
            <div class="xp-text" id="walletInputHint">If TonConnect is not available, paste your address and Save.</div>
          </div>
          <div class="task-actions">
            <button id="saveWalletBtn" class="btn-mini primary">Save</button>
          </div>
        </div>
      </div>

      <div class="section">
        <div class="section-title" id="prefsTitle">Preferences</div>

        <div class="setting-row">
          <div style="flex:1;">
            <div id="langLabel">Language</div>
            <select id="langSelect" class="select">
              <option value="en">English</option>
              <option value="tr">T√ºrk√ße</option>
            </select>
          </div>
        </div>

        <div class="setting-row">
          <label class="toggle">
            <input type="checkbox" id="soundToggle" checked />
            <span id="soundLabel">Sound</span>
          </label>

          <label class="toggle">
            <input type="checkbox" id="vibrationToggle" checked />
            <span id="vibrationLabel">Vibration</span>
          </label>
        </div>

        <div class="setting-row">
          <label class="toggle">
            <input type="checkbox" id="notifToggle" checked />
            <span id="notifLabel">Notifications</span>
          </label>
          <span class="badge" id="notifNote">Bot-based</span>
        </div>
      </div>


      <div class="section">
        <div class="section-title" id="infoTitle">Information</div>
        <div class="task-row">
          <div style="flex:1;">
            <div id="rulesLabel">Rules & About</div>
            <div class="xp-text" id="rulesHint">Program terms, rewards, and anti-fraud policy.</div>
          </div>
          <div class="task-actions">
            <button id="openRulesBtn" class="btn-mini primary">Open</button>
          </div>
        </div>
      </div>

      <div class="small-note" id="settingsHint">
        Weekly #1 gets +0.5 TON Credit when the week resets.
      </div>
    </div>
  </div>



  <!-- Rules / About Modal -->
  <div id="rulesModal" class="modal hidden">
    <div class="modal-inner">
      <div class="modal-header">
        <div class="modal-title" id="rulesTitle">Rules & About</div>
        <button class="close-btn" id="closeRules">√ó</button>
      </div>

      <div class="section">
        <div id="rulesContent" class="rules-content"></div>
      </div>
    </div>
  </div>

  <script src="/static/app.js?v=2_2_2"></script>
</body>
</html>
